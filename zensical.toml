[project]
site_name = "databricks-bundle-decorators"
site_description = "Decorator-based framework for defining Databricks jobs and tasks as Python code."
site_url = "https://boccileonardo.github.io/databricks-bundle-decorators/"
repo_url = "https://github.com/boccileonardo/databricks-bundle-decorators"
repo_name = "boccileonardo/databricks-bundle-decorators"

nav = [
    { "Home" = "index.md" },
    { "Getting Started" = "getting-started.md" },
    { "How It Works" = "how-it-works.md" },
    { "Docker Deployment" = "docker-deployment.md" },
    { "API Reference" = [
        "api/index.md",
        { "Decorators" = "api/decorators.md" },
        { "IoManager" = "api/io-manager.md" },
        { "Built-in IoManagers" = [
            "api/io-managers/index.md",
            { "Polars" = "api/io-managers/polars.md" },
            { "Spark – Classic" = "api/io-managers/spark-classic.md" },
            { "Spark – Serverless" = "api/io-managers/spark-serverless.md" },
            { "Spark – Unity Catalog" = "api/io-managers/spark-uc.md" },
        ]},
        { "Task Values" = "api/task-values.md" },
        { "Parameters" = "api/parameters.md" },
        { "SDK Types" = "api/sdk-types.md" },
    ]},
    { "Internals" = [
        "internals/index.md",
        { "Registry" = "internals/registry.md" },
        { "Codegen" = "internals/codegen.md" },
        { "Runtime" = "internals/runtime.md" },
        { "Discovery" = "internals/discovery.md" },
    ]},
]

# ---------------------------------------------------------------------------
# Theme
# ---------------------------------------------------------------------------

[project.theme]
variant = "modern"
features = [
    "content.code.copy",
    "content.code.annotate",
    "navigation.instant",
    "navigation.sections",
    "navigation.expand",
    "navigation.indexes",
    "navigation.top",
    "search.highlight",
    "toc.follow",
]

# Light palette
[[project.theme.palette]]
media = "(prefers-color-scheme: light)"
scheme = "default"
primary = "indigo"
accent = "amber"
toggle.icon = "lucide/sun"
toggle.name = "Switch to dark mode"

# Dark palette
[[project.theme.palette]]
media = "(prefers-color-scheme: dark)"
scheme = "slate"
primary = "indigo"
accent = "amber"
toggle.icon = "lucide/moon"
toggle.name = "Switch to light mode"

# ---------------------------------------------------------------------------
# Markdown extensions
# ---------------------------------------------------------------------------

[project.markdown_extensions.admonition]
[project.markdown_extensions.attr_list]
[project.markdown_extensions.md_in_html]

[project.markdown_extensions.toc]
permalink = true

[project.markdown_extensions.pymdownx.details]
[project.markdown_extensions.pymdownx.superfences]

[project.markdown_extensions.pymdownx.highlight]
anchor_linenums = true

[project.markdown_extensions.pymdownx.inlinehilite]
[project.markdown_extensions.pymdownx.snippets]

[project.markdown_extensions.pymdownx.tabbed]
alternate_style = true

# ---------------------------------------------------------------------------
# Plugins
# ---------------------------------------------------------------------------

[project.plugins.mkdocstrings.handlers.python]
paths = ["src"]

[project.plugins.mkdocstrings.handlers.python.options]
show_source = true
show_root_heading = true
show_symbol_type_heading = true
heading_level = 3
members_order = "source"
docstring_style = "numpy"
merge_init_into_class = true
show_if_no_docstring = false
signature_crossrefs = true
